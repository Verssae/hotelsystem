<!--
including header content which is common for all pages
-->
<%- include ../layouts/header.ejs %>

<% if (messages.error) { %>
	<p style="color:red"><%- messages.error %></p>

<% } %>

<% if (messages.success) { %>
	<p style="color:green"><%- messages.success %></p>
<% } %>

<!-- Main -->
	<section id="main" class="wrapper">
		<div class="inner">
			<div class="content" style="TEXT-ALIGN: center">
				<h1 style='text-align:center;'>직원 조회</h1>
				<header >
					<h10>
						<style>
							.green_window {
								display: inline-block;
								width: 366px; height: 34px;
								border: 3px solid #200400;
								background: white;
							}
							.input_text10 {
								width: 348px; height: 21px;
								margin: 6px 0 0 9px;
								border: 0;
								line-height: 21px;
								font-weight: bold;
								font-size: 16px;
								outline: none;
							}
							.sch_smit {
								width: 54px; height: 35px;
								margin: 0; border: 0;
								vertical-align: top;
								background: #200400;
								color: white;
								font-weight: bold;
								border-radius: 3px;
								cursor: pointer;
							}
							.sch_smit2 {
								width: 120px; height: 35px;
								margin: 0; border: 0;
								vertical-align: top;
								background: #200400;
								color: white;
								font-weight: bold;
								border-radius: 3px;
								cursor: pointer;
							}
							.sch_smit:hover {
								background: #ce1b28;
								color: white;
								border-width: 3px;
							}
						</style>
<select id="what">
							<option value = 1>ID</option>
							<option value = 2>Name</option>
							<option value = 3>Gender</option>
							<option value = 4>Birthday</option>
						</select>

						<!-- HTML -->
						<span class='green_window'>
						
						
						<input id="keyword" type="text10" class='input_text10' name="search" onkeydown="enterSearch()"/></span>
						<input type="button" class='sch_smit' value="검색" onclick="myFunction()"/>
						<!-- JAVASCRIPT -->
						<script type="text/javascript">
							function enterSearch() {
								if(event.keyCode == 13){
							        myFunction();  // 실행할 이벤트
							    }
							}
							function myFunction() {
								var x = document.getElementById("text10").value;
								var y = document.getElementById("selectBox");
							    alert('선택된 옵션 value 값=' + y.options[y.selectedIndex].value + x);


							}
						</script>
						





					<div id="container">

						<div id="input-form">




						</div>
						<p>

						</p>
						<table id="user-table">
							<tbody>
							<thead>
								<tr style='text-align:left; background-color:#333; color:#fff;'>
									<td>ID</td>
									<td>Name</td>
									<td>Gender</td>
									<td>Birthday</td>
									<td>Edit</td>
								</tr>
								</thead>
							<% if (staffs) { %>
							<% staffs.forEach(function(staff){ %>
								<tr style='text-align:left;'>
									<td><%= staff.id %></td>
									<td><%= staff.name %></td>
									<td><%= staff.gender %></td>
									<td><%= staff.birth %></td>

									<td>
										<div style="float:left">
											<a href='/staffs/edit/<%= staff.id %>'>Edit</a> &nbsp;

										</div>
									</td>
								</tr>
							<% }) %>
							<% } %>
							</tbody>
						</table>
						<script type="text/javascript">
						$(document).ready(function() {
							$("#keyword").keyup(function() {
								var n = document.getElementById("what");
								var m = n.options[n.selectedIndex].value
								console.log(m)
								var k = $(this).val();
								$("#user-table > tbody > tr").hide();
								var temp = $("#user-table > tbody > tr > td:nth-child(5n+"+m+"):contains('" + k + "')");
						

								$(temp).parent().show();
							})
						})
						</script>
					<a href="/staffs/add" class="btn btn-primary btn-lg active" role="button" aria-pressed="true">직원 추가</a>
					</div>
				</h10>
			</header>
		</div>
	</div>
</section>




<p>views/staffs/list.ejs</p>

<!--
including footer content which is common for all pages
-->
<%- include ../layouts/footer.ejs %>
